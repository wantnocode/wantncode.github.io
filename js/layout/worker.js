importScripts("d3/d3-collection.v1.js");importScripts("d3/d3-dispatch.v1.js");importScripts("d3/d3-quadtree.v1.js");importScripts("d3/d3-timer.v1.js");importScripts("d3/d3-force.v1.js");
onmessage=function(a){var b=a.data.nodes;a=a.data.links;for(var c=d3.forceSimulation(b).force("charge",d3.forceManyBody()).force("link",d3.forceLink(a).distance(30).strength(.7)).force("x",d3.forceX()).force("y",d3.forceY()).stop(),d=0,f=Math.ceil(Math.log(c.alphaMin())/Math.log(1-c.alphaDecay()));d<f;++d)postMessage({type:"tick",progress:d/f}),c.tick();b.forEach(function(e){e.loc=e.x+" "+e.y});postMessage({type:"end",nodes:b,links:a})};